# 面试题

# 计算机网络



1. 计网5层模型和7层模型 

2. 应用层协议有什么 

3. 输入网址发送请求到接受响应的过程 

4. 网络拥堵可能有什么原因 

5. TCP拥塞避免[算法]() 

6. 延迟ACK了解么？

7.  ipv6和ipv4的区别

8. Http https 区别（腾讯） SSL握手过程

   1、https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。

    

   2、http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。

    

   3、http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。

    

   4、http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。

# 操作系统

## 进程概念

 进程实体的组成：**程序段、数据段、程序控制块（PCB）**

线程组成：TCB

## 面题

1. 进程和线程区别

   

   **根本区别**：进程是操作系统资源分配的基本单位，而线程是处理器任务调度和执行的基本单位

   **资源开销**：

   ​		进程间切换代价大，线程间切换代价小。每个进程都有独立的代码和数据空间（程序上下文），程序之间的切换会有较大的开销；线程可以看做轻量级的进程，同一类线程共享代码和数据空间，每个线程都有自己独立的运行栈和程序计数器（PC），线程之间切换的开销小。

   ​		进程拥有资源多，线程拥有资源少

   **包含关系**：一个进程内可以有多个线程，进程是运行中的程序，线程是进程的内部的一个执行序列

   **影响关系**：一个进程崩溃后，在保护模式下不会对其他进程产生影响，但是一个线程崩溃整个进程都死掉。所以多进程要比多线程健壮。

   **内存分配**：同一进程的线程共享本进程的地址空间和资源，而进程之间的地址空间和资源是相互独立的

   **执行过程**：每个独立的进程有程序运行的入口、顺序执行序列和程序出口。但是线程不能独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制，两者均可并发执行

   

2. 进程和线程的切换上下文

   **进程切换涉及虚拟地址空间的切换而线程不会**，**每个进程都有自己的虚拟地址空间，进程内的所有线程共享进程的虚拟地址空间**。

   

3. 上下文是什么？

   **上下文就是内核重新启动一个被抢占的进程所需的状态。**包括一下内容：

   - 寄存器
   - 程序计数器 PC
   - 各种内核数据结构：比如描绘地址空间的页表，包含有关当前进程信息的进程表，以及包含进程已打开文件的信息的文件表。

   

4. 线程之间同步的机制 

   ​		**互斥锁**
   ​		**条件变量**
   ​		**读写锁**
   ​		**信号量**

5. 物理地址、虚拟地址和逻辑地址的区别 

   物理地址、虚拟地址、逻辑地址关系

   物理地址是指内存上存储单位的实际地址。

   虚拟地址的理解要结合虚拟内存，虚拟内存空间。虚拟内存空间可能会大于物理内存实际大小（用到了磁盘充当虚拟内存）。

   一般情况下可以把逻辑地址当成虚拟地址

   段式、页式逻辑地址：

   <img src="面试题.assets/clip_image002.png" alt="img" style="zoom: 50%;" /><img src="面试题.assets/clip_image004.png" alt="img" style="zoom:50%;" />

   但是逻辑内存是指程序段内的地址，在多级页表情况下

   <img src="面试题.assets/clip_image006.png" alt="img" style="zoom:50%;" />

   最后两段： 页帧号+offset 才是 “程序段”内的地址。

   

   

6. 为什么要分成物理地址和虚拟地址 

   ​	方便编译器和操作系统安排程序的地址分布。（更好分配碎片空间）

   ​	由于局部性原理，使用虚拟地址可以节省空间，内存只需要加载程序要用的代码和数据。

   ​	保证数据的安全和进的隔离，防止进程访问其他进程或者操作系统在内存中的数据。

   

   ​	虚拟内存作用 详细版

   ​	使用虚拟内存主要是基于以下三个方面考虑，也就是说虚拟内存主要有三个作用：

   ​	作为缓存工具，提高内存利用率：使用 DRAM 当做部分的虚拟地址空间的缓存（虚拟内存就是存储在磁盘上的 N 个连续字节的数组，数组的部分内容会缓存在 DRAM 中）。扩大了内存空间，当发生缺页异常时，将会把内存和磁盘中的数据进行置换。

   ​	作为内存管理工具，简化内存管理：每个进程都有统一的线性地址空间（但实际上在物理内存中可能是间隔、支离破碎的），在内存分配中没有太多限制，每个虚拟页都可以被映射到任何的物理页上。这样也带来一个好处，如果两个进程间有共享的数据，那么直接指向同一个物理页即可。

   ​	作为内存保护工具，隔离地址空间：进程之间不会相互影响；用户程序不能访问内核信息和代码。页表中的每个条目的高位部分是表示权限的位，MMU 可以通过检查这些位来进行权限控制（读、写、执行）。

   

7. 虚拟地址转换为物理地址的过程 （https://blog.csdn.net/qq_41453285/article/details/107827858）

   Linux的四级页表

   <img src="面试题.assets/clip_image006.png" alt="img" style="zoom:50%;" />

   第一步，先将虚拟地址转换为逻辑地址：找到最后一级页表得到 页帧号 + offset 组成逻辑地址
   第二步，再将逻辑地址转换为线型地址：	逻辑地址加上基址获得线性地址
   第三步，再将线型地址再转换为物理地址：

   详细：

   第一步，先将虚拟地址转换为逻辑地址：根据程序中的虚拟地址得出其所在的段（页），然后加上段偏移，我们就能得到一个逻辑地址
   第二步，再将逻辑地址转换为线型地址：有了逻辑地址之后，我们需要将逻辑地址转换为线型地址（因为线型地址是逻辑地址转换到物理地址的一个中间层），只需要把逻辑地址加上段的基地址就能生成一个线型地址
   第三步，再将线型地址再转换为物理地址：
   如果启用了分页机制，那么就需要将需要找到段中对应页的地址，然后再找到页内偏移地址，最后得到物理地址
   如果没有启用分页机制，那么线型地址直接就是物理地址了

   

8. 页式 段式 段页式存储

   页式

   <img src="面试题.assets/image-20210315120305021.png" alt="image-20210315120305021" style="zoom:50%;" />

   页式带快表

   <img src="面试题.assets/image-20210315120406563.png" alt="image-20210315120406563" style="zoom: 67%;" />

   段式存储

   <img src="面试题.assets/image-20210315120435417.png" alt="image-20210315120435417" style="zoom: 67%;" />

   段页式

   <img src="面试题.assets/image-20210315122228373.png" alt="image-20210315122228373" style="zoom: 67%;" />

9. 快表是存储在哪里的

    放在联想存储器（缓冲存储器），具有并行查找的功能。

# Java集合框架

## HashMap为什么改为尾插法？

https://www.cnblogs.com/qmillet/p/13054208.html

1.8之前不管是元素的添加，还是数组扩容，只要涉及到 hash 冲突，就会采用头插法将元素添加到链表中，头插法在多线程的情况下会导致死循环。

![img](面试题.assets/1384439-20200606120547060-2090940084.png)

# Java 并发

# JavaWeb

请求转发和重定向的区别？

​	q'qiu

# JVM

# MYSQL

# REDIS

# SSM

# 设计模式

## ORM 

https://www.jianshu.com/p/ec971e77dd3c

### 是什么

ORM，即Object-Relational Mapping（对象关系映射），它的作用是在关系型数据库和业务实体对象之间作一个映射，这样，我们在具体的操作业务对象的时候，就不需要再去和复杂的SQL语句打交道，只需简单的操作对象的属性和方法。

### 为什么会出现ORM？： 解决不匹配问题

面向对象是从软件工程基本原则(如耦合、聚合、封装)的基础上发展起来的，而关系数据库则是从数学理论发展而来的. 两者之间是不匹配的.而ORM作为项目中间件形式实现数据在不同场景下数据关系映射. 对象关系映射（Object Relational Mapping，简称ORM）<u>是一种为了解决面向对象与关系数据库存在的互不匹配的现象的技术</u>.ORM就是这样而来的.

### 优点：

- 第一：隐藏了数据访问细节，“封闭”的通用数据库交互，ORM的核心。
- 第二：ORM使我们构造固化数据结构变得简单易行。

### 缺点：

牺牲性能（解决办法：LazyLoad,Cache ）